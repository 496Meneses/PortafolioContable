---
// Header component with responsive navigation and submenus
---

<header class="header">
	<nav class="navbar">
		<div class="container">
			<div class="nav-content">
				<!-- Logo -->
				<div class="logo">
					<a href="/" class="logo-link">
						<span class="logo-text">Meneses & Asociados</span>
						<span class="logo-subtitle">Servicios Profesionales</span>
					</a>
				</div>

				<!-- Desktop Navigation -->
				<ul class="nav-menu">
					<li class="nav-item">
						<a href="#inicio" class="nav-link">Inicio</a>
					</li>
					<li class="nav-item dropdown">
						<a href="#servicios-contables" class="nav-link dropdown-toggle">
							Servicios Contables
							<i class="fas fa-chevron-down"></i>
						</a>
						<ul class="dropdown-menu">
							<li><a href="#outsourcing" class="dropdown-link">Outsourcing Contable</a></li>
							<li><a href="#tributacion" class="dropdown-link">Tributación y Cumplimiento Fiscal</a></li>
							<li><a href="#auditoria" class="dropdown-link">Auditoría y Revisoría Fiscal</a></li>
							<li><a href="#asesoria" class="dropdown-link">Asesoría Administrativa y Financiera</a></li>
							<li><a href="#laboral" class="dropdown-link">Laboral y Seguridad Social</a></li>
							<li><a href="#certificaciones" class="dropdown-link">Certificaciones y Dictámenes</a></li>
							<li><a href="#formacion" class="dropdown-link">Formación y Clasificación Tributaria</a></li>
						</ul>
					</li>
					<li class="nav-item dropdown">
						<a href="#servicios-empresariales" class="nav-link dropdown-toggle">
							Servicios Empresariales
							<i class="fas fa-chevron-down"></i>
						</a>
						<ul class="dropdown-menu">
							<li><a href="#sst" class="dropdown-link">Seguridad y Salud en el Trabajo (SST)</a></li>
							<li><a href="#plan-emergencia" class="dropdown-link">Plan de Emergencia y Certificación</a></li>
							<li><a href="#manipulacion-alimentos" class="dropdown-link">Manipulación de Alimentos</a></li>
							<li><a href="#organizacion" class="dropdown-link">Organización Administrativa</a></li>
						</ul>
					</li>
					<li class="nav-item">
						<a href="#nosotros" class="nav-link">Nosotros</a>
					</li>
					<li class="nav-item">
						<a href="#blog" class="nav-link">Blog</a>
					</li>
					<li class="nav-item">
						<a href="#contacto" class="nav-link">Contacto</a>
					</li>
				</ul>

				<!-- Mobile Menu Button -->
				<button class="mobile-toggle" id="mobile-toggle">
					<span class="hamburger"></span>
					<span class="hamburger"></span>
					<span class="hamburger"></span>
				</button>
			</div>

			<!-- Mobile Navigation -->
			<div class="mobile-menu" id="mobile-menu">
				<ul class="mobile-nav">
					<li><a href="#inicio" class="mobile-link">Inicio</a></li>
					<li class="mobile-dropdown">
						<button class="mobile-dropdown-toggle">
							Servicios Contables
							<i class="fas fa-chevron-down"></i>
						</button>
						<ul class="mobile-submenu">
							<li><a href="#outsourcing" class="mobile-link">Outsourcing Contable</a></li>
							<li><a href="#tributacion" class="mobile-link">Tributación y Cumplimiento Fiscal</a></li>
							<li><a href="#auditoria" class="mobile-link">Auditoría y Revisoría Fiscal</a></li>
							<li><a href="#asesoria" class="mobile-link">Asesoría Administrativa y Financiera</a></li>
							<li><a href="#laboral" class="mobile-link">Laboral y Seguridad Social</a></li>
							<li><a href="#certificaciones" class="mobile-link">Certificaciones y Dictámenes</a></li>
							<li><a href="#formacion" class="mobile-link">Formación y Clasificación Tributaria</a></li>
						</ul>
					</li>
					<li class="mobile-dropdown">
						<button class="mobile-dropdown-toggle">
							Servicios Empresariales
							<i class="fas fa-chevron-down"></i>
						</button>
						<ul class="mobile-submenu">
							<li><a href="#sst" class="mobile-link">Seguridad y Salud en el Trabajo (SST)</a></li>
							<li><a href="#plan-emergencia" class="mobile-link">Plan de Emergencia y Certificación</a></li>
							<li><a href="#manipulacion-alimentos" class="mobile-link">Manipulación de Alimentos</a></li>
							<li><a href="#organizacion" class="mobile-link">Organización Administrativa</a></li>
						</ul>
					</li>
					<li><a href="#nosotros" class="mobile-link">Nosotros</a></li>
					<li><a href="#blog" class="mobile-link">Blog</a></li>
					<li><a href="#contacto" class="mobile-link">Contacto</a></li>
				</ul>
			</div>
		</div>
	</nav>
</header>

<style>
	.header {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		z-index: 1000;
		background-color: rgba(255, 255, 255, 0.98);
		backdrop-filter: blur(20px);
		border-bottom: 1px solid var(--color-border-light);
		transition: var(--transition);
	}

	.navbar {
		padding: 0.5rem 0;
	}

	.nav-content {
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	.logo {
		flex-shrink: 0;
	}

	.logo-link {
		text-decoration: none;
		display: flex;
		flex-direction: column;
		align-items: flex-start;
	}

	.logo-text {
		font-family: var(--font-display);
		font-size: 1.5rem;
		font-weight: 600;
		color: var(--color-primary);
		line-height: 1;
		letter-spacing: -0.025em;
	}

	.logo-subtitle {
		font-size: 0.7rem;
		color: var(--color-text-light);
		font-weight: 400;
		margin-top: 0.125rem;
		letter-spacing: 0.05em;
		text-transform: uppercase;
	}

	.nav-menu {
		display: flex;
		list-style: none;
		gap: 2rem;
		margin: 0;
		padding: 0;
	}

	.nav-item {
		position: relative;
	}

	.nav-link {
		text-decoration: none;
		color: var(--color-text-light);
		font-weight: 500;
		padding: 0.875rem 0;
		display: flex;
		align-items: center;
		gap: 0.5rem;
		transition: var(--transition);
		font-size: 0.9rem;
		letter-spacing: 0.025em;
	}

	.nav-link:hover {
		color: var(--color-primary);
	}

	.dropdown-toggle i {
		font-size: 0.75rem;
		transition: transform 0.3s ease;
	}

	.dropdown:hover .dropdown-toggle i {
		transform: rotate(180deg);
	}

	.dropdown-menu {
		position: absolute;
		top: 100%;
		left: 0;
		background-color: white;
		border-radius: var(--border-radius-lg);
		box-shadow: var(--shadow-xl);
		opacity: 0;
		visibility: hidden;
		transform: translateY(-8px);
		transition: var(--transition);
		list-style: none;
		padding: 0.75rem 0;
		margin: 0;
		min-width: 280px;
		border: 1px solid var(--color-border);
	}

	.dropdown:hover .dropdown-menu {
		opacity: 1;
		visibility: visible;
		transform: translateY(0);
	}

	.dropdown-link {
		display: block;
		padding: 0.875rem 1.75rem;
		color: var(--color-text-light);
		text-decoration: none;
		font-size: 0.875rem;
		transition: var(--transition);
		font-weight: 400;
		letter-spacing: 0.025em;
	}

	.dropdown-link:hover {
		background-color: var(--color-surface);
		color: var(--color-primary);
		padding-left: 2.25rem;
	}

	/* Mobile Navigation */
	.mobile-toggle {
		display: none;
		flex-direction: column;
		background: none;
		border: none;
		cursor: pointer;
		padding: 0.5rem;
	}

	.hamburger {
		width: 24px;
		height: 3px;
		background-color: var(--color-primary);
		margin: 2px 0;
		transition: all 0.3s ease;
	}

	.mobile-toggle.active .hamburger:nth-child(1) {
		transform: rotate(45deg) translate(5px, 5px);
	}

	.mobile-toggle.active .hamburger:nth-child(2) {
		opacity: 0;
	}

	.mobile-toggle.active .hamburger:nth-child(3) {
		transform: rotate(-45deg) translate(7px, -6px);
	}

	.mobile-menu {
		display: none;
		position: absolute;
		top: 100%;
		left: 0;
		right: 0;
		background-color: white;
		border-top: 1px solid rgba(30, 58, 138, 0.1);
		box-shadow: var(--shadow-lg);
	}

	.mobile-nav {
		list-style: none;
		padding: 1rem 0;
		margin: 0;
	}

	.mobile-link {
		display: block;
		padding: 0.75rem 1rem;
		color: var(--color-text);
		text-decoration: none;
		font-weight: 500;
		transition: all 0.3s ease;
	}

	.mobile-link:hover {
		background-color: var(--color-surface);
		color: var(--color-primary);
		padding-left: 1.5rem;
	}

	.mobile-dropdown-toggle {
		width: 100%;
		text-align: left;
		background: none;
		border: none;
		padding: 0.75rem 1rem;
		color: var(--color-text);
		font-weight: 500;
		cursor: pointer;
		display: flex;
		justify-content: space-between;
		align-items: center;
		transition: all 0.3s ease;
	}

	.mobile-dropdown-toggle:hover {
		background-color: var(--color-surface);
		color: var(--color-primary);
	}

	.mobile-submenu {
		list-style: none;
		padding: 0;
		margin: 0;
		background-color: var(--color-surface);
		display: none;
	}

	.mobile-submenu.active {
		display: block;
	}

	.mobile-submenu .mobile-link {
		padding-left: 2rem;
		font-size: 0.9rem;
	}

	/* Responsive Design */
	@media (max-width: 1024px) {
		.nav-menu {
			gap: 1.5rem;
		}
	}

	@media (max-width: 768px) {
		.nav-menu {
			display: none;
		}

		.mobile-toggle {
			display: flex;
		}

		.mobile-menu.active {
			display: block;
		}

		.logo-text {
			font-size: 1.25rem;
		}

		.logo-subtitle {
			font-size: 0.7rem;
		}
	}

	@media (max-width: 480px) {
		.navbar {
			padding: 0.25rem 0;
		}

		.logo-text {
			font-size: 1.1rem;
		}
	}
</style>

<script>
	// Mobile menu functionality
	document.addEventListener('DOMContentLoaded', function() {
		const mobileToggle = document.getElementById('mobile-toggle');
		const mobileMenu = document.getElementById('mobile-menu');
		const dropdownToggles = document.querySelectorAll('.mobile-dropdown-toggle');

		if (mobileToggle && mobileMenu) {
			mobileToggle.addEventListener('click', function() {
				mobileToggle.classList.toggle('active');
				mobileMenu.classList.toggle('active');
			});
		}

		// Handle mobile dropdown menus
		dropdownToggles.forEach(toggle => {
			toggle.addEventListener('click', function(this: HTMLElement) {
				const submenu = this.nextElementSibling as HTMLElement;
				const icon = this.querySelector('i') as HTMLElement;
				
				if (submenu && icon) {
					submenu.classList.toggle('active');
					icon.style.transform = submenu.classList.contains('active') ? 'rotate(180deg)' : 'rotate(0deg)';
				}
			});
		});

		// Close mobile menu when clicking on links
		const mobileLinks = document.querySelectorAll('.mobile-link');
		mobileLinks.forEach(link => {
			link.addEventListener('click', function() {
				if (mobileToggle && mobileMenu) {
					mobileToggle.classList.remove('active');
					mobileMenu.classList.remove('active');
				}
			});
		});

		// Handle scroll behavior for header
		let lastScrollTop = 0;
		const header = document.querySelector('.header') as HTMLElement;
		
		if (header) {
			window.addEventListener('scroll', function() {
				const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
				
				if (scrollTop > 100) {
					header.style.backgroundColor = 'rgba(255, 255, 255, 0.98)';
					header.style.boxShadow = 'var(--shadow)';
				} else {
					header.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
					header.style.boxShadow = 'none';
				}
				
				lastScrollTop = scrollTop;
			});
		}
	});
</script>